#include <stdio.h>
#include <stdlib.h>
int main()
{
FILE *fp;
char buf[2000] = {0};
if((fp = popen("ls -l", "r")) == NULL) {
perror("Fail to popen\n");
exit(1);
}
while(fgets(buf, 2000, fp) != NULL) {
printf("%s", buf);
}
pclose(fp);
return 0;
}
